"use strict";const selectEl=document.querySelector(".cards__select"),cardsSectionEl=document.querySelector(".cards");function rotateCard(e){const t=e.currentTarget.querySelector(".card__image"),a=e.currentTarget.querySelector(".card__image--default");t.classList.contains("hide")?(t.classList.remove("hide"),t.parentElement.setAttribute("data-state","opened"),a.classList.add("hide")):(t.classList.add("hide"),t.parentElement.setAttribute("data-state","closed"),a.classList.remove("hide"))}function findCards(){return document.querySelectorAll('div[data-state="opened"]')}function removeDataState(e){e.setAttribute("data-state","closed")}function flipCardsBack(e,t){e.firstChild.classList.add("hide"),e.firstChild.nextElementSibling.classList.remove("hide"),t.firstChild.classList.add("hide"),t.firstChild.nextElementSibling.classList.remove("hide")}function letCardsUp(e){e.querySelector(".card__image").classList.remove("hide")}function cardClickHandler(e){rotateCard(e);const t=findCards();2===t.length&&(t[0].dataset.pair!==t[1].dataset.pair?(t.forEach(removeDataState),setTimeout(flipCardsBack,1500,t[0],t[1])):(t.forEach(removeDataState),t.forEach(letCardsUp),t[0].removeEventListener("click",cardClickHandler),t[1].removeEventListener("click",cardClickHandler)))}function createCard(e){const t=document.createElement("div"),a=document.createElement("img"),r=document.createElement("img");return t.classList.add("card"),t.setAttribute("data-pair",`${e.pair}`),t.setAttribute("data-state","closed"),a.classList.add("card__image"),a.classList.add("hide"),a.setAttribute("style",`background-image: url(${e.image})`),r.classList.add("card__image--default"),r.setAttribute("style","background-image: url(https://via.placeholder.com/160x195/30d9c4/ffffff/?text=ADALAB)"),cardsSectionEl.appendChild(t),t.appendChild(a),t.appendChild(r),t}function getCards(e){fetch(`https://raw.githubusercontent.com/Adalab/cards-data/master/${e}.json`).then(e=>e.json()).then(function(e){cardsSectionEl.innerHTML="";for(const t of e){createCard(t).addEventListener("click",cardClickHandler)}})}function getSelectValue(e){getCards(e.currentTarget.value),localStorage.setItem("numberOfCards",e.currentTarget.value)}localStorage.numberOfCards&&(selectEl.value=localStorage.getItem("numberOfCards"),getCards(selectEl.value)),selectEl.addEventListener("click",getSelectValue);